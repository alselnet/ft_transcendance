(()=>{"use strict";const t=()=>{let t=document.createElement("div");return t.classList.add("logout-container"),t.innerHTML=' \n        <a class="nav-link d-none d-lg-flex" href="#/logout">\n            <i class="bi bi-box-arrow-right"></i>\n        </a>\n    ',t},e=()=>{let t=document.createElement("nav");return t.classList.add("navbar-container"),t.innerHTML='\n      <nav class="navbar-container">\n        <div class="container-fluid">\n          <div class="myNavbar d-none d-lg-flex">\n            <a class="nav-link" href="#/game"><i class="bi bi-controller" style="font-size: 4rem; color: white;"></i></a>\n            <a class="nav-link" href="#/dashboard"><i class="bi bi-person-fill" style="font-size: 4rem; color: white;"></i></a>\n            <a class="nav-link" href="#/settings"><i class="bi bi-gear-fill" style="font-size: 4rem; color: white;"></i></a>\n            <a class="nav-link" href="#/aboutus"><i class="bi bi-info-circle" style="font-size: 4rem; color: white;"></i></a>\n          </div>\n        </div>\n      </nav>\n\n      <nav class="navbar-container-sm">\n         <div class="myNavbar-sm d-flex d-lg-none navSm">\n          <div class="navbar">\n            <div class="container-fluid">\n              <a class="navbar-brand" href="#"></a>\n                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo02"\n                  aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">\n                  <span class="navbar-toggler-icon"></span>\n                </button>\n              <div class="collapse navbar-collapse" id="navbarTogglerDemo02">\n                <ul class="navbar-nav">\n                  <li class="nav-item">\n                    <a class="nav-link" active href="#/game">Jeu</a>\n                  </li>\n                  <li class="nav-item">\n                    <a class="nav-link" aria-current="page" href="#/dashboard">Mon profil</a>\n                  </li>\n                  <li class="nav-item">\n                    <a class="nav-link" aria-current="page" href="#/settings">Paramètres</a>\n                  </li>\n                  <li class="nav-item">\n                    <a class="nav-link" aria-current="page" href="#/aboutus">À propos de nous</a>\n                  </li>\n                     <li class="nav-item">\n                    <a class="nav-link" aria-current="page" href="#/logout">Déconnexion</a>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n      </nav>\n\n  ',window.addEventListener("hashchange",n),n(),t},n=()=>{document.querySelectorAll(".nav-link").forEach((t=>{t.classList.remove("active")}));const t=location.hash,e=document.querySelector(`.nav-link[href="${t}"]`);e&&e.classList.add("active")},s=()=>{let t=document.createElement("main");return t.id="section",t};function a(t){for(let e=0,n=1;;e+=n,n/=2)if(t>=(7-4*e)/11)return-Math.pow((11-6*e-11*t)/4,2)+Math.pow(n,2)}function i(t){return function(e){return 1-t(1-e)}}function o({timing:t,draw:e,duration:n}){let s=performance.now();requestAnimationFrame((function a(i){let o=(i-s)/n;o>1&&(o=1);let l=t(o);e(l),o<1&&requestAnimationFrame(a)}))}function l(t){let e=("; "+document.cookie).split("; "+t+"=");if(2===e.length)return e.pop().split(";").shift()}const r=async()=>{const t=localStorage.getItem("accessToken"),e=localStorage.getItem("refreshToken");if(!t)return window.location.hash="#/",!1;if(n=t,!(JSON.parse(atob(n.split(".")[1])).exp<Date.now()/1e3))return!0;var n;if(!e)return window.location.hash="#/",!1;try{const t=await fetch("https://localhost/api/auth/token/refresh/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh:e})});if(t.ok){const e=await t.json();return localStorage.setItem("accessToken",e.access),!0}return localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),window.location.hash="#/",!1}catch(t){return console.error("Erreur de vérification d'authentification :",t),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),window.location.hash="#/",!1}},d=async()=>{if(!await r())return;if(!document.getElementById("root"))return void console.error("#root not found in the DOM");let t=document.querySelector(".navbar-container");t&&t.remove();let e=document.querySelector(".logout-container");e&&e.remove();let n=document.querySelector("#section");if(n){n.innerHTML='\n<       div class="container-ldb">\n            <h1 class="title-ldb">Leaderboard</h1>\n            <div class="frame-ldb">\n                <a class="nav-link" href="#/dashboard"><span class="close-btn-ldb">&times;</span></a>\n                    <div class="podium-ldb">\n                        <div class="second-ldb">\n                            <div class="pod-result-ldb">\n                                <div class="profile-picture-ldb-pod"><img src="./app/images/tmejri_avatar.png" alt="jcointre"></div>\n                                <div class="username-ldb-pod">Tmejri</div>\n                                <div class="score-ldb-pod">1234 pts</div>\n                            </div>\n\n                            <p class="two-ldb">2</p>\n                        </div>\n\n                        <div class="first-ldb">\n                            <div class="pod-result-one-ldb">\n                                <div class="profile-picture-ldb-pod"><img src="./app/images/jecointr_avatar.png" alt="jcointre"></div>\n                                <div class="username-ldb-pod">Jcointre</div>\n                                <div class="score-ldb-pod">1234 pts</div>\n                            </div>\n\n                            <p class="one-ldb">1</p>\n                        </div>\n\n                        <div class="third-ldb">\n                            <div class="pod-result-third-ldb">\n                                <div class="profile-picture-ldb-pod"><img src="./app/images/Jules.png" alt="jcointre"></div>\n                                <div class="username-ldb-pod">Jthuysba</div>\n                                <div class="score-ldb-pod">1234 pts</div>\n                            </div>\n                            <p class="three-ldb">3</p>\n                        </div>\n                    </div>\n\n                <div class="leaderboard-list-ldb">\n                    <div class="profil-ldb">\n                        <div class="rank-ldb">4.</div>\n                        <div class="profile-picture-ldb"><img src="./app/images/hugo.png" alt="jcointre"></div>\n                        <div class="username-ldb">Hcoulon</div>\n                        <div class="score-ldb">1234 pts</div>\n                    </div>\n                    <div class="profil-ldb">\n                        <div class="rank-ldb">5.</div>\n                        <div class="profile-picture-ldb"><img src="./app/images/profile.png" alt="jcointre"></div>\n                        <div class="username-ldb">Aselnet</div>\n                        <div class="score-ldb">1233 pts</div>\n                    </div>\n                    <div class="profil-ldb">\n                        <div class="rank-ldb">6.</div>\n                        <div class="profile-picture-ldb"><img src="./app/images/jecointr_avatar.png" alt="jcointre"></div>\n                        <div class="username-ldb">Jcointre</div>\n                        <div class="score-ldb">1232 pts</div>\n                    </div>\n                    <div class="profil-ldb">\n                        <div class="rank-ldb">7.</div>\n                        <div class="profile-picture-ldb"><img src="./app/images/tmejri_avatar.png" alt="jcointre"></div>\n                        <div class="username-ldb">Tmejri</div>\n                        <div class="score-ldb">1231 pts</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        ';const t=document.querySelector(".container-ldb");t&&setTimeout((()=>{t.classList.add("animate-ldb")}),0)}},c=async()=>{if(!await r())return;if(!document.getElementById("root"))return void console.error("#root not found in the DOM");let t=document.querySelector(".navbar-container");t&&t.remove();let e=document.querySelector(".logout-container");e&&e.remove();let n=document.querySelector("#section");if(n){n.innerHTML='\n        <div class="main-containerf fl-hidden">\n        <div class="friends-containerf">\n            <h2 class="titlef">FRIENDS LIST</h2>\n            <a class="nav-link" href="#/dashboard">\n                <span class="close-btnf">&times;</span>\n            </a>\n            <table class="friends-tablef">\n                <tbody>\n                    <tr>\n                        <td><img src="./app/images/jecointr_avatar.png" alt="jecointr"> </td>\n                        <td><span class="userf">jecointr</span></td>\n                        <td><span class="remove-btnf">&times;</span></td>\n                    </tr>\n                    <tr>\n                        <td><img src="./app/images/jecointr_avatar.png" alt="jecointr"> </td>\n                        <td><span class="userf">jecointr</span></td>\n                        <td><span class="remove-btnf">&times;</span></td>\n                    </tr>\n                    <tr>\n                        <td><img src="./app/images/jecointr_avatar.png" alt="jecointr"> </td>\n                        <td><span class="userf">jecointr</span></td>\n                        <td><span class="remove-btnf">&times;</span></td>\n                    </tr>\n                    <tr>\n                        <td><img src="./app/images/jecointr_avatar.png" alt="jecointr"></td>\n                        <td><span class="userf">jecointr</span></td>\n                        <td><span class="remove-btnf">&times;</span></td>\n                    </tr>\n                    <tr>\n                        <td><img src="./app/images/jecointr_avatar.png" alt="jecointr"></td>\n                        <td><span class="userf">jecointr</span></td>\n                        <td><span class="remove-btnf">&times;</span></td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n        </div>\n        ';const t=document.querySelector(".main-containerf");t&&setTimeout((()=>{t.classList.add("fl-visible"),t.classList.remove("fl-hidden")}),0)}},p=async()=>{if(!await r())return;if(!document.getElementById("root"))return void console.error("#root not found in the DOM");let t=document.querySelector(".navbar-container");t&&t.remove();let e=document.querySelector(".logout-container");e&&e.remove();let n=document.querySelector("#section");if(n){n.innerHTML='\n          <div class="main-container2 ga-hidden">\n            <h1 class="title2">Match History</h1>\n            <div class="history-container2">\n                <a class="nav-link" href="#/dashboard">\n                    <span class="close-btn2">&times;</span>\n                </a>\n                <table class="history-table2">\n                    <thead>\n                        <tr>\n                            <th>Date</th>\n                            <th>Opponent</th>\n                            <th>Game Mode</th>\n                            <th>Result</th>\n                            <th>Score</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            <td>12/05/2024</td>\n                            <td><img src="./app/images/jecointr_avatar.png" alt="jecointr"> jecointr</td>\n                            <td>1 v 1</td>\n                            <td class="defeat2s">Defeat</td>\n                            <td>5 - 4</td>\n                        </tr>\n                        <tr>\n                            <td>16/05/2024</td>\n                            <td><img src="./app/images/jecointr_avatar.png" alt="jecointr"> jecointr</td>\n                            <td>1 v 1</td>\n                            <td class="victory2">Victory</td>\n                            <td>15 - 14</td>\n                        </tr>\n                        <tr>\n                            <td>20/05/2024</td>\n                            <td><img src="./app/images/jecointr_avatar.png" alt="jecointr"> jecointr</td>\n                            <td>1 v 1</td>\n                            <td class="defeat2">Defeat</td>\n                            <td>12 - 4</td>\n                        </tr>\n                        <tr>\n                            <td>22/05/2024</td>\n                            <td><img src="./app/images/jecointr_avatar.png" alt="jecointr"> jecointr</td>\n                            <td>1 v 1</td>\n                            <td class="victory2">Victory</td>\n                            <td>25 - 10</td>\n                        </tr>\n                        <tr>\n                            <td>27/05/2024</td>\n                            <td><img src="./app/images/jecointr_avatar.png" alt="jecointr"> jecointr</td>\n                            <td>1 v 1</td>\n                            <td class="defeat2">Defeat</td>\n                            <td>12 - 10</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n        ';const t=document.querySelector(".main-container2");t&&setTimeout((()=>{t.classList.add("ga-visible"),t.classList.remove("ga-hidden")}),0)}};function u(t){const e=document.querySelector(".leaderboard-stat .nav-link");e?e.addEventListener("click",(n=>{n.preventDefault();let s=document.createElement("div");s.id="section",t.append(s);const a=e.getBoundingClientRect();s.style.position="absolute",s.style.left=`${a.left}px`,s.style.top=`${a.top}px`,d();const i=s.querySelector(".container-ldb");setTimeout((()=>{s.style.position="relative",s.style.left="0",s.style.top="0",i.classList.remove("leaderboard-hidden"),i.classList.add("leaderboard-visible")}),10)})):console.error("Leaderboard link not found")}function m(t){const e=document.querySelector(".list-stat .nav-link");e?e.addEventListener("click",(n=>{n.preventDefault();let s=document.createElement("div");s.id="section",t.append(s);const a=e.getBoundingClientRect();s.style.position="absolute",s.style.left=`${a.left}px`,s.style.top=`${a.top}px`,c();const i=s.querySelector(".main-containerf");setTimeout((()=>{s.style.position="relative",s.style.left="0",s.style.top="0",i.classList.remove("fl-hidden"),i.classList.add("fl-visible")}),10)})):console.error("Friends list link not found")}function v(t){const e=document.querySelector(".game-history .nav-link");e?e.addEventListener("click",(n=>{n.preventDefault();let s=document.createElement("div");s.id="section",t.append(s);const a=e.getBoundingClientRect();s.style.position="absolute",s.style.left=`${a.left}px`,s.style.top=`${a.top}px`,p();const i=s.querySelector(".main-container2");setTimeout((()=>{s.style.position="relative",s.style.left="0",s.style.top="0",i.classList.remove("fl-hidden"),i.classList.add("fl-visible")}),10)})):console.error("Game History link not found")}function g(t){const e=document.querySelector(".camambert-stat");if(e){const{left:n,top:s}=e.getBoundingClientRect(),a=100,i=n-t.getBoundingClientRect().left,o=s-t.getBoundingClientRect().top;!function(t,e,n,s,a){let i=document.createElement("div");i.style.width=0,i.style.height=0,i.style.left=e+"px",i.style.top=n+"px",i.style.position="absolute",i.style.backgroundColor="green",i.style.borderRadius="50%",i.style.transition="width 0.5s ease, height 0.5s ease",t.append(i),setTimeout((()=>{i.style.width=3*s+"px",i.style.height=3*s+"px",i.addEventListener("transitionend",(function t(){i.removeEventListener("transitionend",t),console.log("Circle animation complete")}))}),0)}(t,i,o,a)}else console.error("camambert-stat element not found")}const b=(t,e)=>{let n=0;const s=e/100,a=setInterval((()=>{n+=s,n>=e&&(clearInterval(a),n=e),t.textContent=Math.floor(n)}),10)},f=async()=>{let t=document.createElement("div");try{const e=await fetch("https://localhost/api/users/me/",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(!e.ok)throw new Error("Failed to fetch user profile");const n=await e.json();t.innerHTML=`\n        <div class="left-side-stat">\n            <div class="id-stat">\n                <div><img src="./app/images/tmejri_avatar.png" alt="profile-pic" class="profile-picture-stat"></div>\n                \n                <div class="text-stat">\n                    <div class="name-and-settings">\n                        <div class="username-stat">${n.username}</div>\n                        <a class="nav-link" href="#/settings"><i class="bi bi-gear-fill gear-icon"></i></a>\n                    </div>\n                    <div class="status-stat">\n                        <div class="dropdown">\n                            <button class="btn btn-secondary dropdown-toggle transparent-dropdown d-flex align-items-center" type="button"\n                                id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">\n                                <div class="status-dropdown">\n                                    <div class="status-pastille" style="background-color: ${h(n.status)};"></div>\n                                    <div class="status-text">${n.status}</div>\n                                </div>\n                            </button>\n                            <ul class="dropdown-menu transparent-dropdown" aria-labelledby="dropdownMenuButton1">\n                                <li class="dropdown-item" data-status="online">\n                                    <div class="status-dropdown">\n                                        <div class="status-pastille" style="background-color: green;"></div>\n                                        <div class="status-text">Online</div>\n                                    </div>\n                                </li>\n                                <li class="dropdown-item" data-status="offline">\n                                    <div class="status-dropdown">\n                                        <div class="status-pastille" style="background-color: red;"></div>\n                                        <div class="status-text">Offline</div>\n                                    </div>\n                                </li>\n                                <li class="dropdown-item" data-status="in_game">\n                                    <div class="status-dropdown">\n                                        <div class="status-pastille" style="background-color: yellow;"></div>\n                                        <div class="status-text">In Game</div>\n                                    </div>\n                                </li>\n                            </ul>\n                        </div>            \n                    </div>\n                </div>\n            </div>\n\n            <div class="statistics-stat">\n                <div class="left-side-stat-stat">\n                    <div class="stat-title-stat">Statistiques du joueur :</div>\n                    <div class="camambert-stat"></div>\n                </div>\n                <div class="right-side-stat-stat">\n                    <div class="stat-data-stat">\n                        <div class="stat-rubric-stat">\n                            <p class="stat-text-stat">Partie(s) jouée(s)</p>\n                            <p class="stat-number-stat" data-target="${n.gamesPlayed}">0</p>\n                        </div>\n                        <div class="stat-rubric-stat">\n                            <p class="stat-text-stat">Adversaire(s) rencontré(s)</p>\n                            <p class="stat-number-stat" data-target="${n.opponentsMet}">0</p>\n                        </div>\n                        <div class="stat-rubric-stat">\n                            <p class="stat-text-stat">Temps de jeu (s)</p>\n                            <p class="stat-number-stat" data-target="${n.playTime}">0</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class="friends-and-leaderboard-stat">\n                <a class="nav-link" href="#/leaderboard">\n                    <div class="leaderboard-stat" id="leaderboard-stat">\n                        <i class="bi bi-trophy-fill trophy-icon"></i>\n                        <p class="leader-text-stat">Leaderboard</p>\n                    </div>\n                </a>\n                <a class="nav-link" href="#/friendlist">         \n                    <div class="friends-list-stat" id="list-stat">\n                        <i class="bi bi-list-task list-icon"></i>\n                        <p class="list-text-stat">Liste d'amis</p>\n                    </div>\n                </a>\n            </div>\n        </div>\n        `,setTimeout((()=>{t.querySelectorAll(".stat-number-stat").forEach((t=>{const e=+t.getAttribute("data-target");b(t,e)}))}),500),t.querySelectorAll(".dropdown-item").forEach((t=>{t.addEventListener("click",(async()=>{const e=t.getAttribute("data-status");try{if(!(await fetch("https://localhost/api/users/update-status",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("accessToken")}`},body:JSON.stringify({status:e})})).ok)throw new Error("Failed to update user status");n.status=e,document.querySelector(".status-text").innerText=e,document.querySelector(".status-pastille").style.backgroundColor=h(e)}catch(t){console.error("Error updating status:",t)}}))}))}catch(e){console.error("Error fetching user profile:",e),t.innerHTML="<p>Failed to load user profile</p>"}return t};function h(t){switch(t){case"online":return"green";case"offline":return"red";case"in_game":return"yellow";default:return"grey"}}document.addEventListener("DOMContentLoaded",(async()=>{document.getElementById("root").appendChild(await f())}));const y=async()=>{if(!await r())return;let t=document.createElement("div");return section.innerHTML='\n        <div class="container">\n            <h2 class="title-settings">SETTINGS</h2>\n            <span class="close-btn-settings">&times;</span>\n            <div class="profile-section">\n                <img class="img-settings" src="./app/images/jecointr_avatar.png" alt="jecointr"> \n                <a href="#" class="edit-link">edit</a>\n            </div>\n            <div class="info-section">\n                <div class="info">\n                    <label class="info-label">NICKNAME :</label>\n                    <input type="text" class="info-input">\n                    <a href="#" class="edit-link">edit</a>\n                </div>\n                <div class="info">\n                    <label class="info-label">PASSWORD :</label>\n                    <input type="password" class="info-input">\n                    <a href="#" class="edit-link">edit</a>\n                </div>\n            </div>\n            <div class="settings-section">\n                <div class="item1">\n                    <div class="setting">\n                        <span class="setting-label">ON</span>\n                        <label class="switch">\n                            <input type="checkbox" checked>\n                            <span class="slider"></span>\n                        </label>\n                        <span class="setting-description">Sound</span>\n                    </div>\n                    <div class="setting">\n                        <span class="setting-label">OFF</span>\n                        <label class="switch">\n                            <input type="checkbox">\n                            <span class="slider"></span>\n                        </label>\n                        <span class="setting-description">Dark mode</span>\n                    </div>\n                </div>\n                <div class="item2">\n                    <div class="setting">\n                        <span class="setting-label">OFF</span>\n                        <label class="switch">\n                            <input type="checkbox">\n                            <span class="slider"></span>\n                        </label>\n                        <span class="setting-description">Music</span>\n                    </div>\n                    <div class="setting">\n                        <span class="setting-label">OFF</span>\n                        <label class="switch">\n                            <input type="checkbox">\n                            <span class="slider"></span>\n                        </label>\n                        <span class="setting-description">Mode secret</span>\n                    </div>\n                </div>\n            </div>\n            <div class="color-theme">\n                <span>Color theme</span>\n                <label class="switch">\n                    <input type="checkbox">\n                    <span class="slider red"></span>\n                </label>\n            </div>\n        </div>\n        ',t},w=()=>{let t=document.createElement("div");return t.innerHTML='\n    <div class="left-side-stat">\n        <div class="id-stat">\n            <div><img src="./app/images/tmejri_avatar.png" alt="profile-pic" class="profile-picture-stat"></div>\n            <div class="text-stat">\n                <div class="name-and-settings">\n                    <div class="username-stat">Tmejri</div>\n                    <a class="nav-link" href="#/deletefriendmsg"><i class="bi bi-person-dash gear-icon"></i></a>\n                </div>\n                <div class="status-stat">\n                    <div class="pastille-stat"></div>\n                    <div class="status-text-stat">en ligne</div>\n                </div>\n            </div>\n        </div>\n \n        <div class="statistics-stat">\n            <div class="left-side-stat-stat">\n                <div class="stat-title-stat">Statistiques du joueur :</div>\n                <div class="camambert-stat"></div>\n            </div>\n            <div class="right-side-stat-stat">\n                <div class="stat-data-stat">\n                    <div class="stat-rubric-stat">\n                        <p class="stat-text-stat">Partie(s) jouée(s)</p>\n                        <p class="stat-number-stat" data-target="7">0</p>\n                    </div>\n                    <div class="stat-rubric-stat">\n                        <p class="stat-text-stat">Adversaire(s) rencontré(s)</p>\n                        <p class="stat-number-stat" data-target="6">0</p>\n                    </div>\n                    <div class="stat-rubric-stat">\n                        <p class="stat-text-stat">Temps de jeu (s)</p>\n                        <p class="stat-number-stat" data-target="124">0</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="friends-and-leaderboard-stat">\n            <a class="nav-link" href="#/leaderboard">\n                <div class="leaderboard-stat" id="leaderboard-stat">\n                    <i class="bi bi-trophy-fill trophy-icon"></i>\n                    <p class="leader-text-stat">Leaderboard</p>\n                </div>\n            </a>\n            <a class="nav-link" href="#/friendlist">         \n                <div class="friends-list-stat" id="list-stat">\n                    <i class="bi bi-list-task list-icon"></i>\n                    <p class="list-text-stat">Liste d\'amis</p>\n                </div>\n            </a>\n        </div>\n    </div>\n    ',setTimeout((()=>{t.querySelectorAll(".stat-number-stat").forEach((t=>{const e=+t.getAttribute("data-target");b(t,e)}))}),500),t};document.addEventListener("DOMContentLoaded",(()=>{document.getElementById("root").appendChild(w())}));const k=()=>{let{hash:n}=location,h=document.getElementById("section");if(h)switch(n){case"#/":(()=>{if(!document.getElementById("root"))return void console.error("#root not found in the DOM");let t=document.querySelector(".navbar-container");t&&t.remove();let e=document.querySelector(".logout-container");e&&e.remove();let n=document.querySelector("#section");n&&(n.innerHTML='\n        <div class="balls-home d-none d-md-flex">\n            <div class="orange-ball-home">\n                <a href="#/signin" data-hash="signin">\n                    <span>I</span>\n                    <span>n</span>\n                    <span>s</span>\n                    <span>c</span>\n                    <span>r</span>\n                    <span>i</span>\n                    <span>p</span>\n                    <span>t</span>\n                    <span>i</span>\n                    <span>o</span>\n                    <span>n</span>\n                </a>\n            </div>\n            <div class="white-ball-home">\n                <a href="#/login" data-hash="login">\n                    <span>c</span>\n                    <span>o</span>\n                    <span>n</span>\n                    <span>n</span>\n                    <span>e</span>\n                    <span>x</span>\n                    <span>i</span>\n                    <span>o</span>\n                    <span>n</span>\n                </a>\n            </div>\n            <div class="btn-container-home">\n                <button id="fortyTwoSignInBtn" class="btn-42-home">\n                    <p class="co-42-home">connexion avec</p>\n                    <img src="./app/images/42.png" class="img-42-home" alt="button-42">\n                </button>\n            </div>\n        </div>\n\n        <div class="balls-home-sm d-none d-sm-flex d-md-none">\n            <div class="orange-ball-home-sm">\n                <a href="#/signin" data-hash="signin">\n                    <span>I</span>\n                    <span>n</span>\n                    <span>s</span>\n                    <span>c</span>\n                    <span>r</span>\n                    <span>i</span>\n                    <span>p</span>\n                    <span>t</span>\n                    <span>i</span>\n                    <span>o</span>\n                    <span>n</span>\n                </a>\n            </div>\n            <div class="white-ball-home-sm">\n                <a href="#/login" data-hash="login">\n                    <span>c</span>\n                    <span>o</span>\n                    <span>n</span>\n                    <span>n</span>\n                    <span>e</span>\n                    <span>x</span>\n                    <span>i</span>\n                    <span>o</span>\n                    <span>n</span>\n                </a>\n            </div>\n            <div class="btn-container-home">\n                <button id="fortyTwoSignInBtn" class="btn-42-home">\n                    <p class="co-42-home">connexion avec</p>\n                    <img src="./app/images/42.png" class="img-42-home" alt="button-42">\n                </button>\n            </div>\n        </div>\n        ');const s=document.querySelector(".white-ball-home"),l=document.querySelector(".orange-ball-home");s&&l?function(t,e,n){e.style.position="absolute",n.style.position="absolute",e.style.top="0",n.style.top="0";const s=(t.clientHeight-e.clientHeight)/2,l=(t.clientHeight-n.clientHeight)/2;o({duration:2e3,timing:i(a),draw(t){e.style.transform=`translateY(${s*t}px)`}}),setTimeout((()=>{o({duration:2e3,timing:i(a),draw(t){n.style.transform=`translateY(${l*t}px)`}})}),1e3)}(n,s,l):console.error(".white-ball-home or .orange-ball-home not found in the DOM"),document.getElementById("fortyTwoSignInBtn").addEventListener("click",(()=>{window.location.href="https://localhost/api/auth/42login/"}))})();break;case"#/signin":(()=>{if(!document.getElementById("root"))return void console.error("#root not found in the DOM");let t=document.querySelector(".navbar-container");t&&t.remove();let e=document.querySelector(".logout-container");e&&e.remove();let n=document.querySelector("#section");n&&(n.innerHTML='\n    <div class="balls-signin d-none d-md-flex">\n        <div class="white-ball-signin"></div>\n            <a class="nav-link" href="#/">\n                <div class="arrow"><i class="bi bi-arrow-left-circle-fill"></i></div>\n            </a>\n            <div class="orange-ball-signin">\n                <form id="signin-form" class="login-form-signin"> \x3c!-- Ajout de la balise form --\x3e\n                    <input type="text" id="username" placeholder="nom d\'utilisateur">\n                    <input type="email" id="email" placeholder="email">\n                    <input type="password" id="password" placeholder="mot de passe">\n                    <input type="password" id="confirmPassword" placeholder="confirmer mdp">\n                    <button type="submit" class="button-signin">s\'inscrire</button>\n                </form>\n            </div>\n        </div>\n    </div>\n\n    <div class="balls-signin d-none d-sm-flex d-md-none">\n        <a class="nav-link" href="#/">\n            <div class="arrow-s-sm"><i class="bi bi-arrow-left-circle-fill"></i></div>\n        </a>\n        <div class="orange-ball-signin-sm">\n            <form id="signin-form-sm" class="login-form-signin"> \x3c!-- Ajout de la balise form --\x3e\n                <input type="text" id="username-sm" placeholder="nom d\'utilisateur">\n                <input type="email" id="email-sm" placeholder="email">\n                <input type="password" id="password-sm" placeholder="mot de passe">\n                <input type="password" id="confirmPassword-sm" placeholder="confirmer mdp">\n                <button type="submit" class="button-signin">s\'inscrire</button>\n            </form>\n        </div>\n    </div>\n        '),(document.getElementById("signin-form")||document.getElementById("signin-form-sm")).addEventListener("submit",(t=>{t.preventDefault();const e={username:document.getElementById("username").value||document.getElementById("username-sm").value,email:document.getElementById("email").value||document.getElementById("email-sm").value,password:document.getElementById("password").value||document.getElementById("password-sm").value,confirmPassword:document.getElementById("confirmPassword").value||document.getElementById("confirmPassword-sm").value},n=a(e.email),i=s(e.password);if(n)if(i)if(e.password===e.confirmPassword){const t=l("csrftoken");fetch("https://localhost/api/auth/register/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":t},body:JSON.stringify(e)}).then((t=>t.ok?t.json():t.json().then((t=>{throw new Error(t)})))).then((t=>{alert(t.message),window.location.href="#/dashboard"})).catch((t=>{alert("User creation failed."),console.error("Error:",t)}))}else alert("confirmation de mot de passe incorrect");else alert("mot de passe doit contenir au moins 5 caractères, une lettre, un chiffre et un caractère spécial.");else alert("email non conforme")}));const s=t=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^a-zA-Z\d]).{5,}$/.test(t),a=t=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.+[a-zA-Z]{2,}$/.test(t)})();break;case"#/login":(()=>{if(!document.getElementById("root"))return void console.error("#root not found in the DOM");let t=document.querySelector(".navbar-container");t&&t.remove();let e=document.querySelector(".logout-container");e&&e.remove();let n=document.querySelector("#section");n&&(n.innerHTML='\n        <div class="balls-login d-none d-md-flex">\n            <div class="orange-ball-login">\n                <a class="nav-link" href="#/">\n                    <div class="arrow"><i class="bi bi-arrow-left-circle-fill"></i></div>\n                </a>\n            </div>\n            <div class="white-ball-login">\n                <form id="login-form" class="login-form-login"> \x3c!-- Ajout de la balise form --\x3e\n                    <input type="text" id="username" placeholder="Username">\n                    <input type="password" id="password" placeholder="Password">\n                    <button type="submit" class="button-login">se connecter</button>\n                </form>\n            </div>\n\n            <div class="btn-container-home">\n                <button onclick="window.location=\'https://42.fr/\';" class="btn-42-home">\n                    <p class="co-42-home">connexion avec</p>\n                    <img src="./app/images/42.png" class="img-42-home" alt="button-42">\n                </button>\n            </div>\n        </div>\n\n        <div class="balls-login d-none d-sm-flex d-md-none">\n            <a class="nav-link" href="#/">\n                <div class="arrow-sm"><i class="bi bi-arrow-left-circle-fill"></i></div>\n            </a>\n        <div class="white-ball-login-sm">\n                <form id="login-form-sm" class="login-form-login"> \x3c!-- Ajout de la balise form --\x3e\n                    <input type="text" id="username-sm" placeholder="Username">\n                    <input type="password" id="password-sm" placeholder="Password">\n                    <button type="submit" class="button-login">se connecter</button>\n                </form>\n            </div>\n        </div>\n    '),(document.getElementById("login-form")||document.getElementById("login-form-sm")).addEventListener("submit",(t=>{t.preventDefault();const e={username:document.getElementById("username").value||document.getElementById("username-sm").value,password:document.getElementById("password").value||document.getElementById("password-sm").value},n=l("csrftoken");fetch("https://localhost/api/auth/signin/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":n},body:JSON.stringify(e)}).then((t=>t.ok?t.json():t.json().then((t=>{throw new Error("Erreur de connexion")})))).then((t=>{console.log("Réponse du backend:",t),localStorage.setItem("accessToken",t.access),localStorage.setItem("refreshToken",t.refresh),window.location.href="#/dashboard"})).catch((t=>{console.error("Erreur:",t),alert("Nom d utilisateur ou mot de passe incorrect")}))}))})();break;case"#/game":(async()=>{if(!await r())return;let t=document.querySelector("#section");if(t){t.innerHTML='   \n        <div class="game-container" id="game-container">\n            <canvas id="game-canvas" width="1200" height="700"></canvas>\n        <div class="button-container" id="initial-buttons">\n            <button class="game-button" id="local-mode">Local</button>\n            <button class="game-button" id="tournoi-mode">Tournoi</button>\n        </div>\n        <div class="button-container" id="settings">\n            <div>\n                <label for="ball-speed">Ball Speed:</label>\n                <select id="ball-speed">\n                    <option value="15">Slow</option>\n                    <option value="20">Normal</option>\n                    <option value="25">Fast</option>\n                </select>\n            </div>\n            <div>\n                <label for="paddle-speed">Paddle Speed:</label>\n                <select id="paddle-speed">\n                    <option value="5">Slow</option>\n                    <option value="7">Normal</option>\n                    <option value="10">Fast</option>\n                </select>\n            </div>\n            <div>\n                <label for="background-color">Background Color:</label>\n                <select id="background-color">\n                    <option value="black">Black</option>\n                    <option value="blue">Blue</option>\n                    <option value="green">Green</option>\n                </select>\n            </div>\n            <button class="game-button" id="start-game-btn">Start Game</button>\n        </div>\n        <div class="button-container" id="tournoi-buttons">\n            <button class="game-button" id="three-players-btn">3 Players</button>\n            <button class="game-button" id="four-players-btn">4 Players</button>\n            <button class="game-button" id="five-players-btn">5 Players</button>\n        </div>\n    </div>\n    ';const e=document.getElementById("initial-buttons"),n=document.getElementById("tournoi-buttons"),s=document.getElementById("local-mode"),a=document.getElementById("tournoi-mode"),i=document.getElementById("settings"),o=document.getElementById("start-game-btn"),l=document.getElementById("ball-speed"),d=document.getElementById("paddle-speed"),c=document.getElementById("background-color"),p=document.getElementById("game-canvas"),u=p.getContext("2d");let m=p.height/2,v=p.height/2,g=p.width/2,b=p.height/2,f=0,h=0,y=null,w={},k=[];function S(){e.classList.add("hidden"),n.classList.add("hidden"),i.classList.add("hidden")}function E(){u.clearRect(0,0,p.width,p.height),u.fillStyle="white",u.fillRect(20,p.height/2,10,70),u.fillRect(p.width-20,p.height/2,10,70),u.fillRect(p.width/2,p.height/2,10,10),u.fillStyle="green",u.font="24px Arial",u.fillText("Player 1: 0",20,30),u.fillText("Player 2: 0",p.width-150,30),S(),i.classList.remove("hidden")}function T(t){console.log("inside prompte player name"),k=[];for(let e=1;e<=t;e++){const t=prompt(`Player ${e} name:`);t?k.push(t.trim()):(alert("Please enter a valid name."),e--)}for(let e=0;e<t;e++)console.log("player name :",k[e]);x(k)}async function x(t){let e=1;for(;t.length>1;){console.log(`Round ${e}:`);let n=[];if(t.length%2!=0){let e=t.pop();n.push(e),console.log(`${e} advances to the next round automatically`)}for(let s=0;s<t.length;s+=2){let a=t[s],i=t[s+1];const o=`local_match_${a}_vs_${i}`.replace(/[^a-zA-Z0-9_]/g,"");S(),alert(`Round: ${e}  Match: ${a} Vs ${i}`),await B(o,a,i,n,l.value,d.value)}t=n,e++}alert(`Tournament Winner: ${t[0]}`),S(),E()}function L(t,e){u.clearRect(0,0,p.width,p.height),u.fillStyle="white",u.fillRect(20,m,10,70),u.fillRect(p.width-20,v,10,70),u.fillRect(g,b,10,10),u.fillStyle="green",u.font="24px Arial",u.fillText(`${t}: ${f}`,20,30),u.fillText(`${e}: ${h}`,p.width-150,30)}function j(t,e,n){m=t.player1_y_position,v=t.player2_y_position,g=t.ball_x_position,b=t.ball_y_position,f=t.score_player1,h=t.score_player2,L(e,n)}function I(t,e,n){y&&y.close(),y=new WebSocket(`wss://localhost/ws/pong/${t}/`),y.onopen=function(t){console.log("Connected to the server"),y.send(JSON.stringify({type:"config",ball_speed:e,paddle_speed:n}))},y.onmessage=function(t){const e=JSON.parse(t.data);var n;"game_state"===e.type?(m=(n=e).player1_y_position,v=n.player2_y_position,g=n.ball_x_position,b=n.ball_y_position,f=n.score_player1,h=n.score_player2,u.clearRect(0,0,p.width,p.height),u.fillStyle="white",u.fillRect(20,m,10,70),u.fillRect(p.width-20,v,10,70),u.fillRect(g,b,10,10),u.fillStyle="green",u.font="24px Arial",u.fillText(`Player 1: ${f}`,20,30),u.fillText(`Player 2: ${h}`,p.width-150,30)):"start_game"===e.type?console.log("The game has started!"):"game_over"===e.type&&(console.log("Fin de game"),alert(`Player ${e.winner} wins!`),y.close(),y=null,S(),E())},y.onclose=function(t){console.log("Disconnected from the server")},y.onerror=function(t){console.error(`WebSocket error: ${t.message}`)},document.addEventListener("keydown",(function(t){w[t.code]=!0,_()})),document.addEventListener("keyup",(function(t){w[t.code]=!1}))}function B(t,e,n,s,a,i){return y&&y.close(),new Promise(((o,l)=>{y=new WebSocket(`wss://localhost/ws/pong/${t}/`),y.onopen=function(t){console.log("Connected to the server"),y.send(JSON.stringify({type:"config",ball_speed:a,paddle_speed:i}))},y.onmessage=function(t){const a=JSON.parse(t.data);if("game_state"===a.type)j(a,e,n);else if("start_game"===a.type)console.log("The game has started!");else if("game_over"===a.type){let t;console.log("Fin de game"),t=1==a.winner?e:n,alert(`${e} vs ${n} - Winner: ${t}`),s.push(t),y.close(),y=null,S(),o()}},y.onclose=function(t){console.log("Disconnected from the server")},y.onerror=function(t){console.error(`WebSocket error: ${t.message}`),l(t)},document.addEventListener("keydown",(function(t){w[t.code]=!0,_()})),document.addEventListener("keyup",(function(t){w[t.code]=!1}))}))}function _(){y&&y.readyState===WebSocket.OPEN&&(w.ArrowUp&&y.send(JSON.stringify({type:"move",player:2,direction:"up"})),w.ArrowDown&&y.send(JSON.stringify({type:"move",player:2,direction:"down"})),w.KeyW&&y.send(JSON.stringify({type:"move",player:1,direction:"up"})),w.KeyS&&y.send(JSON.stringify({type:"move",player:1,direction:"down"})),w.Space&&y.send(JSON.stringify({type:"start_ball"})))}function q(){_(),requestAnimationFrame(q)}E(),console.log("inside Game_menu"),o.addEventListener("click",(function(){console.log(c.value),console.log(l.value),console.log(d.value),document.getElementById("game-canvas").style.backgroundColor=c.value,S(),e.classList.remove("hidden")})),s.addEventListener("click",(function(){console.log("inside local"),S();const t="local_"+(new Date).getTime();console.log(t),S(),I(t,l.value,d.value)})),document.getElementById("three-players-btn").addEventListener("click",(()=>T(3))),document.getElementById("four-players-btn").addEventListener("click",(()=>T(4))),document.getElementById("five-players-btn").addEventListener("click",(()=>T(5))),a.addEventListener("click",(function(){console.log("inside tournoi"),S(),n.classList.remove("hidden")})),q()}})();break;case"#/dashboard":(async()=>{if(!await r())return;let n=document.querySelector("#root");n.innerHTML="",n.append(e()),n.append(t()),n.append(s());let a=document.createElement("div");a.className="dashboard-container",a.append(f()),a.append((()=>{let t=document.createElement("div");return t.innerHTML='\n\t<div class="right-side-history">\n\t\t<div class="history-history">\n\t\t\t<div class="victory-history">\n\t\t\t\t<p class="number-history" data-target="2">0</p>\n\t\t\t\t<p class="text-history">victoire(s)</p>\n\t\t\t</div>\n\t\t\t<div class="defeat-history">\n\t\t\t\t<p class="number-history" data-target="5">0</p>\n\t\t\t\t<p class="text-history">défaite(s)</p>\n\t\t\t</div>\n            <a class="nav-link" href="#/gamehistory">\n                <div id="game-history">\n\t\t\t\t\t<p class="game-historic-history">voir l\'historique des parties</p>\n                </div>\n\t\t\t</a>\n\t\t</div>\n\t</div>\n    ',setTimeout((()=>{t.querySelectorAll(".number-history").forEach((t=>{const e=+t.getAttribute("data-target");b(t,e)}))}),500),t})()),n.append(a),u(n),m(n),v(n),g(a)})();break;case"#/leaderboard":d();break;case"#/settings":y();break;case"#/aboutus":(async()=>{if(!await r())return;let t=document.querySelector("#section");t&&(t.innerHTML='\n\t    <div class="main-container-aboutus">\n\n        <h1 class="title-aboutus">Qui sommes nous ?</h1>\n\t    <div class="container-aboutus">\n\t    \t<div class="row">\n\t    \t\t<div id="block1" class="col-md-6 col-lg-4 mb-3">\n\t    \t\t\t<div class="frame-aboutus">\n\t    \t\t\t\t<h1 class="name-cube">Jéremy COINTRE</h1>\n\t    \t\t\t\t<img class="img-us" src="./app/images/profile.png" alt="img-jeremy">\n\t    \t\t\t\t<p>Développement du frontend</p>\n\t    \t\t\t</div>\n\t    \t\t</div>\n\t    \t\t<div id="block2" class="col-md-6 col-lg-4 mb-3">\n\t    \t\t\t<div class="frame-aboutus">\n\t    \t\t\t\t<h1 class="name-cube">Hugo COULON</h1>\n\t    \t\t\t\t<img class="img-us" src="./app/images/hugo.png" alt="img-hugo">\n\t    \t\t\t\t<p>Développement du jeu</p>\n\t    \t\t\t</div>\n\t    \t\t</div>\n\t    \t\t<div id="block3" class="col-md-6 col-lg-4 mb-3">\n\t    \t\t\t<div class="frame-aboutus">\n\t    \t\t\t\t<h1 class="name-cube">Tasnim MEJRI</h1>\n\t    \t\t\t\t<img class="img-us" src="./app/images/Tasnim.jpg" alt="img-tasnim">\n\t    \t\t\t\t<p>Développement du frontend</p>\n\t    \t\t\t</div>\n\t    \t\t</div>\n\t    \t\t<div id="block4" class="col-md-6 col-lg-4 mb-3">\n\t    \t\t\t<div class="frame-aboutus">\n\t    \t\t\t\t<h1 class="name-cube">Alexandre SELNET</h1>\n\t    \t\t\t\t<img class="img-us" src="./app/images/profile.png" alt="img-alex">\n\t    \t\t\t\t<p>Développement du Backend</p>\n\t    \t\t\t</div>\n\t    \t\t</div>\n\t    \t\t<div id="block5" class="col-md-6 col-lg-4 mb-3">\n\t    \t\t\t<div class="frame-aboutus">\n\t    \t\t\t\t<h1 class="name-cube">Jules THUYSBAERT</h1>\n\t    \t\t\t\t<img class="img-us" src="./app/images/Jules.png" alt="img-jules">\n\t    \t\t\t\t<p>Développement du backend</p>\n\t    \t\t\t</div>\n\t    \t\t</div>\n    \t\t</div>\n\t    </div>\n\t    </div>\n    ')})();break;case"#/friendlist":c();break;case"#/gamehistory":p();break;case"#/2fa":(async()=>{document.querySelector("#section").innerHTML='\n      <div class="container-2FA">\n          <div class="login-form-2FA">\n              <h1 class="title-2FA">ENTREZ LE CODE REÇU PAR MAIL</h1>\n              <input type="text" placeholder="Tapez le code ici">\n              <button class="button-2FA">renvoyer</button>\n          </div>\n      </div>\n      '})();break;case"#/logout":(async()=>{if(!await r())return;let t=document.querySelector("#section");if(!document.getElementById("root"))return void console.error("#root not found in the DOM");let e=document.querySelector(".navbar-container");e&&e.remove();let n=document.querySelector(".logout-container");n&&n.remove(),t&&(t.innerHTML='   <div class="frame-LogOutMsg-container">\n            <div class="frame-LogOutMsg">\n                <p class="msg-confirmation">Êtes-vous sûr(e) de vouloir vous déconnecter ?</p>\n                <div class="button-logout">\n                    <a class="nav-link" href="#/">\n                        <button type="button" class="btn btn-success">Oui</button>\n                    </a>\n                    <a>                \n                        <button type="button" class="btn btn-danger" onclick="window.history.back()">Non</button>\n                    </a>\n                </div>\n            </div>\n        </div>\n    ')})();break;case"#/friendprofile":(async()=>{if(!await r())return;let n=document.querySelector("#root");n.innerHTML="",n.append(e()),n.append(t()),n.append(s());let a=document.createElement("div");a.className="dashboard-container",a.append(w()),a.append((()=>{let t=document.createElement("div");return t.innerHTML='\n\t<div class="right-side-history">\n\t\t<div class="history-history">\n\t\t\t<div class="victory-history">\n\t\t\t\t<p class="number-history" data-target="2">0</p>\n\t\t\t\t<p class="text-history">victoire(s)</p>\n\t\t\t</div>\n\t\t\t<div class="defeat-history">\n\t\t\t\t<p class="number-history" data-target="5">0</p>\n\t\t\t\t<p class="text-history">défaite(s)</p>\n\t\t\t</div>\n            <a class="nav-link" href="#/gamehistory">\n                <div id="game-history">\n\t\t\t\t\t<p class="game-historic-history">voir l\'historique des parties</p>\n                </div>\n\t\t\t</a>\n\t\t</div>\n\t</div>\n    ',setTimeout((()=>{t.querySelectorAll(".number-history").forEach((t=>{const e=+t.getAttribute("data-target");b(t,e)}))}),500),t})()),n.append(a),u(n),m(n),v(n),g(a)})();break;case"#/deletefriendmsg":(async()=>{if(!await r())return;let t=document.querySelector("#section");if(!document.getElementById("root"))return void console.error("#root not found in the DOM");let e=document.querySelector(".navbar-container");e&&e.remove();let n=document.querySelector(".logout-container");n&&n.remove(),t&&(t.innerHTML='   <div class="frame-delete-container">\n            <div class="frame-delete">\n                <p class="msg-delete-confirmation">Êtes-vous sûr(e) de voirloir retirer cet utilisateur de vos amis ?</p>\n                <div class="button-delete">\n                    <a class="nav-link" href="#/pagenotfound">\n                        <button type="button" class="btn btn-success">Oui</button>\n                    </a>\n                    <a class="nav-link" href="#/pagenotfound">                \n                        <button type="button" class="btn btn-danger">Non</button>\n                    </a>\n                </div>\n            </div>\n        </div>\n    ')})();break;default:h.innerHTML="<h1>Page not found</h1>"}else console.error("#section not found in the DOM")},S=()=>{let n=document.getElementById("root");if(!n)return void console.error("#root not found in the DOM");n.innerHTML="";const a=document.createElement("div");a.classList.add("navbar-supperposition"),a.append(e()),a.append(t()),n.append(a),n.append(s()),window.location.hash?k():window.location.href="#/"};document.addEventListener("DOMContentLoaded",S),window.addEventListener("hashchange",S)})();