(()=>{"use strict";const t=()=>{let t=document.createElement("div");return t.classList.add("logout-container"),t.innerHTML=' \n        <a class="nav-link d-none d-lg-flex" href="#/logout">\n            <i class="bi bi-box-arrow-right"></i>\n        </a>\n    ',t},n=()=>{let t=document.createElement("nav");return t.classList.add("navbar-container"),t.innerHTML='\n        <nav class="navbar-container">\n          <div class="container-fluid">\n            <div class="myNavbar d-none d-lg-flex">\n              <a class="nav-link" href="#/game"><i class="bi bi-controller" style="font-size: 4rem; color: white;"></i></a>\n              <a class="nav-link" href="#/dashboard"><i class="bi bi-person-fill" style="font-size: 4rem; color: white;"></i></a>\n              <a class="nav-link" href="#/settings"><i class="bi bi-gear-fill" style="font-size: 4rem; color: white;"></i></a>\n              <a class="nav-link" href="#/aboutus"><i class="bi bi-info-circle" style="font-size: 4rem; color: white;"></i></a>\n            </div>\n          </div>\n        </nav>\n\n        <nav class="navbar-container-sm">\n       \t\t<div class="myNavbar-sm d-flex d-lg-none navSm">\n\t\t\t\t    <div class="navbar">\n\t\t\t\t    \t<div class="container-fluid">\n\t\t\t\t    \t\t<a class="navbar-brand" href="#"></a>\n\t\t\t\t    \t\t\t<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo02"\n\t\t\t\t    \t\t\t\taria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">\n\t\t\t\t    \t\t\t\t<span class="navbar-toggler-icon"></span>\n\t\t\t\t    \t\t\t</button>\n\t\t\t\t    \t\t<div class="collapse navbar-collapse" id="navbarTogglerDemo02">\n\t\t\t\t    \t\t\t<ul class="navbar-nav">\n\t\t\t\t    \t\t\t\t<li class="nav-item">\n                      <a class="nav-link" active href="#/game">Jeu</a>\n\t\t\t\t    \t\t\t\t</li>\n\t\t\t\t    \t\t\t\t<li class="nav-item">\n\t\t\t\t    \t\t\t\t\t<a class="nav-link" aria-current="page" href="#/dashboard">Mon profil</a>\n\t\t\t\t    \t\t\t\t</li>\n\t\t\t\t    \t\t\t\t<li class="nav-item">\n\t\t\t\t    \t\t\t\t\t<a class="nav-link" aria-current="page" href="#/settings">Paramètres</a>\n\t\t\t\t    \t\t\t\t</li>\n\t\t\t\t    \t\t\t\t<li class="nav-item">\n\t\t\t\t    \t\t\t\t\t<a class="nav-link" aria-current="page" href="#/aboutus">À propos de nous</a>\n\t\t\t\t    \t\t\t\t</li>\n   \t\t\t\t    \t\t\t\t<li class="nav-item">\n\t\t\t\t    \t\t\t\t\t<a class="nav-link" aria-current="page" href="#/logout">Déconnexion</a>\n\t\t\t\t    \t\t\t\t</li>\n\t\t\t\t    \t\t\t</ul>\n\t\t\t\t    \t\t</div>\n\t\t\t\t    \t</div>\n\t\t\t\t    </div>\n\t\t\t    </div>\n        </nav>\n\n    ',window.addEventListener("hashchange",e),e(),t},e=()=>{document.querySelectorAll(".nav-link").forEach((t=>{t.classList.remove("active")}));const t=location.hash,n=document.querySelector(`.nav-link[href="${t}"]`);n&&n.classList.add("active")},s=()=>{let t=document.createElement("main");return t.id="section",t};function a(t){for(let n=0,e=1;;n+=e,e/=2)if(t>=(7-4*n)/11)return-Math.pow((11-6*n-11*t)/4,2)+Math.pow(e,2)}function i(t){return function(n){return 1-t(1-n)}}function o({timing:t,draw:n,duration:e}){let s=performance.now();requestAnimationFrame((function a(i){let o=(i-s)/e;o>1&&(o=1);let l=t(o);n(l),o<1&&requestAnimationFrame(a)}))}function l(t){let n=("; "+document.cookie).split("; "+t+"=");if(2===n.length)return n.pop().split(";").shift()}const r=()=>{if(!document.getElementById("root"))return void console.error("#root not found in the DOM");let t=document.querySelector(".navbar-container");t&&t.remove();let n=document.querySelector(".logout-container");n&&n.remove();let e=document.querySelector("#section");if(e){e.innerHTML='\n        <div class="container-ldb">\n            <h1 class="title-ldb">Leaderboard</h1>\n            <div class="frame-ldb">\n                <a class="nav-link" href="#/dashboard"><span class="close-btn-ldb">&times;</span></a>\n                    <div class="podium-ldb">\n                        <div class="second-ldb">\n                            <div class="pod-result-ldb">\n                                <div class="profile-picture-ldb"><img src="./app/images/tmejri_avatar.png" alt="jcointre"></div>\n                                <div class="username-ldb">Jcointre</div>\n                                <div class="score-ldb">1234 pts</div>\n                            </div>\n\n                            <p class="two-ldb">2</p>\n                        </div>\n\n                        <div class="first-ldb">\n                            <div class="pod-result-one-ldb">\n                                <div class="profile-picture-ldb"><img src="./app/images/jecointr_avatar.png" alt="jcointre"></div>\n                                <div class="username-ldb">Jcointre</div>\n                                <div class="score-ldb">1234 pts</div>\n                            </div>\n\n                            <p class="one-ldb">1</p>\n                        </div>\n\n                        <div class="third-ldb">\n                            <div class="pod-result-third-ldb">\n                                <div class="profile-picture-ldb"><img src="./app/images/jecointr_avatar.png" alt="jcointre"></div>\n                                <div class="username-ldb">Jcointre</div>\n                                <div class="score-ldb">1234 pts</div>\n                            </div>\n                            <p class="three-ldb">3</p>\n                        </div>\n                    </div>\n\n                <div class="leaderboard-list-ldb">\n                    <div class="profil-ldb">\n                        <div class="rank-ldb">4.</div>\n                        <div class="profile-picture-ldb"><img src="./app/images/tmejri_avatar.png" alt="jcointre"></div>\n                        <div class="username-ldb">Jcointre</div>\n                        <div class="score-ldb">1234 pts</div>\n                    </div>\n                    <div class="profil-ldb">\n                        <div class="rank-ldb">5.</div>\n                        <div class="profile-picture-ldb"><img src="./app/images/jecointr_avatar.png" alt="jcointre"></div>\n                        <div class="username-ldb">Tmejri</div>\n                        <div class="score-ldb">1233 pts</div>\n                    </div>\n                    <div class="profil-ldb">\n                        <div class="rank-ldb">6.</div>\n                        <div class="profile-picture-ldb"><img src="./app/images/jecointr_avatar.png" alt="jcointre"></div>\n                        <div class="username-ldb">Jcointre</div>\n                        <div class="score-ldb">1232 pts</div>\n                    </div>\n                    <div class="profil-ldb">\n                        <div class="rank-ldb">7.</div>\n                        <div class="profile-picture-ldb"><img src="./app/images/tmejri_avatar.png" alt="jcointre"></div>\n                        <div class="username-ldb">Tmejri</div>\n                        <div class="score-ldb">1231 pts</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        ';const t=document.querySelector(".container-ldb");t&&setTimeout((()=>{t.classList.add("animate-ldb")}),0)}},d=()=>{if(!document.getElementById("root"))return void console.error("#root not found in the DOM");let t=document.querySelector(".navbar-container");t&&t.remove();let n=document.querySelector(".logout-container");n&&n.remove();let e=document.querySelector("#section");if(e){e.innerHTML='\n        <div class="main-containerf fl-hidden">\n        <div class="friends-containerf">\n            <h2 class="titlef">FRIENDS LIST</h2>\n            <a class="nav-link" href="#/dashboard">\n                <span class="close-btnf">&times;</span>\n            </a>\n            <table class="friends-tablef">\n                <tbody>\n                    <tr>\n                        <td><img src="./app/images/jecointr_avatar.png" alt="jecointr"> </td>\n                        <td><span class="userf">jecointr</span></td>\n                        <td><span class="remove-btnf">&times;</span></td>\n                    </tr>\n                    <tr>\n                        <td><img src="./app/images/jecointr_avatar.png" alt="jecointr"> </td>\n                        <td><span class="userf">jecointr</span></td>\n                        <td><span class="remove-btnf">&times;</span></td>\n                    </tr>\n                    <tr>\n                        <td><img src="./app/images/jecointr_avatar.png" alt="jecointr"> </td>\n                        <td><span class="userf">jecointr</span></td>\n                        <td><span class="remove-btnf">&times;</span></td>\n                    </tr>\n                    <tr>\n                        <td><img src="./app/images/jecointr_avatar.png" alt="jecointr"></td>\n                        <td><span class="userf">jecointr</span></td>\n                        <td><span class="remove-btnf">&times;</span></td>\n                    </tr>\n                    <tr>\n                        <td><img src="./app/images/jecointr_avatar.png" alt="jecointr"></td>\n                        <td><span class="userf">jecointr</span></td>\n                        <td><span class="remove-btnf">&times;</span></td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n        </div>\n        ';const t=document.querySelector(".main-containerf");t&&setTimeout((()=>{t.classList.add("fl-visible"),t.classList.remove("fl-hidden")}),0)}},c=()=>{if(!document.getElementById("root"))return void console.error("#root not found in the DOM");let t=document.querySelector(".navbar-container");t&&t.remove();let n=document.querySelector(".logout-container");n&&n.remove();let e=document.querySelector("#section");if(e){e.innerHTML='\n          <div class="main-container2 ga-hidden">\n            <h1 class="title2">Match History</h1>\n            <div class="history-container2">\n                <a class="nav-link" href="#/dashboard">\n                    <span class="close-btn2">&times;</span>\n                </a>\n                <table class="history-table2">\n                    <thead>\n                        <tr>\n                            <th>Date</th>\n                            <th>Opponent</th>\n                            <th>Game Mode</th>\n                            <th>Result</th>\n                            <th>Score</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            <td>12/05/2024</td>\n                            <td><img src="./app/images/jecointr_avatar.png" alt="jecointr"> jecointr</td>\n                            <td>1 v 1</td>\n                            <td class="defeat2s">Defeat</td>\n                            <td>5 - 4</td>\n                        </tr>\n                        <tr>\n                            <td>16/05/2024</td>\n                            <td><img src="./app/images/jecointr_avatar.png" alt="jecointr"> jecointr</td>\n                            <td>1 v 1</td>\n                            <td class="victory2">Victory</td>\n                            <td>15 - 14</td>\n                        </tr>\n                        <tr>\n                            <td>20/05/2024</td>\n                            <td><img src="./app/images/jecointr_avatar.png" alt="jecointr"> jecointr</td>\n                            <td>1 v 1</td>\n                            <td class="defeat2">Defeat</td>\n                            <td>12 - 4</td>\n                        </tr>\n                        <tr>\n                            <td>22/05/2024</td>\n                            <td><img src="./app/images/jecointr_avatar.png" alt="jecointr"> jecointr</td>\n                            <td>1 v 1</td>\n                            <td class="victory2">Victory</td>\n                            <td>25 - 10</td>\n                        </tr>\n                        <tr>\n                            <td>27/05/2024</td>\n                            <td><img src="./app/images/jecointr_avatar.png" alt="jecointr"> jecointr</td>\n                            <td>1 v 1</td>\n                            <td class="defeat2">Defeat</td>\n                            <td>12 - 10</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n        ';const t=document.querySelector(".main-container2");t&&setTimeout((()=>{t.classList.add("ga-visible"),t.classList.remove("ga-hidden")}),0)}};function p(t){const n=document.querySelector(".leaderboard-stat .nav-link");n?n.addEventListener("click",(e=>{e.preventDefault();let s=document.createElement("div");s.id="section",t.append(s);const a=n.getBoundingClientRect();s.style.position="absolute",s.style.left=`${a.left}px`,s.style.top=`${a.top}px`,r();const i=s.querySelector(".container-ldb");setTimeout((()=>{s.style.position="relative",s.style.left="0",s.style.top="0",i.classList.remove("leaderboard-hidden"),i.classList.add("leaderboard-visible")}),10)})):console.error("Leaderboard link not found")}function m(t){const n=document.querySelector(".list-stat .nav-link");n?n.addEventListener("click",(e=>{e.preventDefault();let s=document.createElement("div");s.id="section",t.append(s);const a=n.getBoundingClientRect();s.style.position="absolute",s.style.left=`${a.left}px`,s.style.top=`${a.top}px`,d();const i=s.querySelector(".main-containerf");setTimeout((()=>{s.style.position="relative",s.style.left="0",s.style.top="0",i.classList.remove("fl-hidden"),i.classList.add("fl-visible")}),10)})):console.error("Friends list link not found")}function u(t){const n=document.querySelector(".game-history .nav-link");n?n.addEventListener("click",(e=>{e.preventDefault();let s=document.createElement("div");s.id="section",t.append(s);const a=n.getBoundingClientRect();s.style.position="absolute",s.style.left=`${a.left}px`,s.style.top=`${a.top}px`,c();const i=s.querySelector(".main-container2");setTimeout((()=>{s.style.position="relative",s.style.left="0",s.style.top="0",i.classList.remove("fl-hidden"),i.classList.add("fl-visible")}),10)})):console.error("Game History link not found")}function v(t){const n=document.querySelector(".camambert-stat");if(n){const{left:e,top:s}=n.getBoundingClientRect(),a=100,i=e-t.getBoundingClientRect().left,o=s-t.getBoundingClientRect().top;!function(t,n,e,s,a){let i=document.createElement("div");i.style.width=0,i.style.height=0,i.style.left=n+"px",i.style.top=e+"px",i.style.position="absolute",i.style.backgroundColor="green",i.style.borderRadius="50%",i.style.transition="width 0.5s ease, height 0.5s ease",t.append(i),setTimeout((()=>{i.style.width=3*s+"px",i.style.height=3*s+"px",i.addEventListener("transitionend",(function t(){i.removeEventListener("transitionend",t),console.log("Circle animation complete")}))}),0)}(t,i,o,a)}else console.error("camambert-stat element not found")}const g=(t,n)=>{let e=0;const s=n/100,a=setInterval((()=>{e+=s,e>=n&&(clearInterval(a),e=n),t.textContent=Math.floor(e)}),10)},b=()=>{let t=document.createElement("div");return t.innerHTML='\n    <div class="left-side-stat">\n        <div class="id-stat">\n            <div><img src="./app/images/tmejri_avatar.png" alt="profile-pic" class="profile-picture-stat"></div>\n            \n            <div class="text-stat">\n                <div class="name-and-settings">\n                    <div class="username-stat">Tmejri</div>\n                    <a class="nav-link" href="#/settings"><i class="bi bi-gear-fill gear-icon"></i></a>\n                </div>\n                <div class="status-stat">\n                    <div class="dropdown">\n\t\t\t\t\t\t<button class="btn btn-secondary dropdown-toggle transparent-dropdown d-flex align-items-center" type="button"\n\t\t\t\t\t\t\tid="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">\n\t\t\t\t\t\t\t<div class="status-dropdown">\n\t\t\t\t\t\t\t\t<div class="green-pastille"></div>\n\t\t\t\t\t\t\t\t<div class="status-text">en ligne</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<ul class="dropdown-menu transparent-dropdown" aria-labelledby="dropdownMenuButton1">\n\t\t\t\t\t\t\t<li class="dropdown-item transparent-dropdown">\n\t\t\t\t\t\t\t\t<div class="status-dropdown">\n\t\t\t\t\t\t\t\t\t<div class="green-pastille"></div>\n\t\t\t\t\t\t\t\t\t<div class="status-text">en ligne</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<li class="dropdown-item transparent-dropdown">\n\t\t\t\t\t\t\t\t<div class="status-dropdown">\n\t\t\t\t\t\t\t\t\t<div class="yellow-pastille"></div>\n\t\t\t\t\t\t\t\t\t<div class="status-text">en train de jouer</div>\n\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="dropdown-item transparent-dropdown">\n\t\t\t\t\t\t\t\t<div class="status-dropdown">\n\t\t\t\t\t\t\t\t\t<div class="red-pastille"></div>\n\t\t\t\t\t\t\t\t\t<div class="status-text">hors ligne</div>\n\t\t\t\t\t\t\t\t</div>\n    \t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t    </div>            \n                </div>\n            </div>\n        </div>\n \n        <div class="statistics-stat">\n            <div class="left-side-stat-stat">\n                <div class="stat-title-stat">Statistiques du joueur :</div>\n                <div class="camambert-stat"></div>\n            </div>\n            <div class="right-side-stat-stat">\n                <div class="stat-data-stat">\n                    <div class="stat-rubric-stat">\n                        <p class="stat-text-stat">Partie(s) jouée(s)</p>\n                        <p class="stat-number-stat" data-target="7">0</p>\n                    </div>\n                    <div class="stat-rubric-stat">\n                        <p class="stat-text-stat">Adversaire(s) rencontré(s)</p>\n                        <p class="stat-number-stat" data-target="6">0</p>\n                    </div>\n                    <div class="stat-rubric-stat">\n                        <p class="stat-text-stat">Temps de jeu (s)</p>\n                        <p class="stat-number-stat" data-target="124">0</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="friends-and-leaderboard-stat">\n            <a class="nav-link" href="#/leaderboard">\n                <div class="leaderboard-stat" id="leaderboard-stat">\n                    <i class="bi bi-trophy-fill trophy-icon"></i>\n                    <p class="leader-text-stat">Leaderboard</p>\n                </div>\n            </a>\n            <a class="nav-link" href="#/friendlist">         \n                <div class="friends-list-stat" id="list-stat">\n                    <i class="bi bi-list-task list-icon"></i>\n                    <p class="list-text-stat">Liste d\'amis</p>\n                </div>\n            </a>\n        </div>\n    </div>\n    ',setTimeout((()=>{t.querySelectorAll(".stat-number-stat").forEach((t=>{const n=+t.getAttribute("data-target");g(t,n)}))}),500),t};document.addEventListener("DOMContentLoaded",(()=>{document.getElementById("root").appendChild(b())}));const f=()=>{let t=document.createElement("div");return console.log("Settings component loaded"),section.innerHTML='\n        <div class="container">\n            <h2 class="title-settings">SETTINGS</h2>\n            <span class="close-btn-settings">&times;</span>\n            <div class="profile-section">\n                <img class="img-settings" src="./app/images/jecointr_avatar.png" alt="jecointr"> \n                <a href="#" class="edit-link">edit</a>\n            </div>\n            <div class="info-section">\n                <div class="info">\n                    <label class="info-label">NICKNAME :</label>\n                    <input type="text" class="info-input">\n                    <a href="#" class="edit-link">edit</a>\n                </div>\n                <div class="info">\n                    <label class="info-label">PASSWORD :</label>\n                    <input type="password" class="info-input">\n                    <a href="#" class="edit-link">edit</a>\n                </div>\n            </div>\n            <div class="settings-section">\n                <div class="item1">\n                    <div class="setting">\n                        <span class="setting-label">ON</span>\n                        <label class="switch">\n                            <input type="checkbox" checked>\n                            <span class="slider"></span>\n                        </label>\n                        <span class="setting-description">Sound</span>\n                    </div>\n                    <div class="setting">\n                        <span class="setting-label">OFF</span>\n                        <label class="switch">\n                            <input type="checkbox">\n                            <span class="slider"></span>\n                        </label>\n                        <span class="setting-description">Dark mode</span>\n                    </div>\n                </div>\n                <div class="item2">\n                    <div class="setting">\n                        <span class="setting-label">OFF</span>\n                        <label class="switch">\n                            <input type="checkbox">\n                            <span class="slider"></span>\n                        </label>\n                        <span class="setting-description">Music</span>\n                    </div>\n                    <div class="setting">\n                        <span class="setting-label">OFF</span>\n                        <label class="switch">\n                            <input type="checkbox">\n                            <span class="slider"></span>\n                        </label>\n                        <span class="setting-description">Mode secret</span>\n                    </div>\n                </div>\n            </div>\n            <div class="color-theme">\n                <span>Color theme</span>\n                <label class="switch">\n                    <input type="checkbox">\n                    <span class="slider red"></span>\n                </label>\n            </div>\n        </div>\n        ',t},h=()=>{let t=document.createElement("div");return t.innerHTML='\n    <div class="left-side-stat">\n        <div class="id-stat">\n            <div><img src="./app/images/tmejri_avatar.png" alt="profile-pic" class="profile-picture-stat"></div>\n            <div class="text-stat">\n                <div class="name-and-settings">\n                    <div class="username-stat">Tmejri</div>\n                    <a class="nav-link" href="#/deletefriendmsg"><i class="bi bi-person-dash gear-icon"></i></a>\n                </div>\n                <div class="status-stat">\n                    <div class="pastille-stat"></div>\n                    <div class="status-text-stat">en ligne</div>\n                </div>\n            </div>\n        </div>\n \n        <div class="statistics-stat">\n            <div class="left-side-stat-stat">\n                <div class="stat-title-stat">Statistiques du joueur :</div>\n                <div class="camambert-stat"></div>\n            </div>\n            <div class="right-side-stat-stat">\n                <div class="stat-data-stat">\n                    <div class="stat-rubric-stat">\n                        <p class="stat-text-stat">Partie(s) jouée(s)</p>\n                        <p class="stat-number-stat" data-target="7">0</p>\n                    </div>\n                    <div class="stat-rubric-stat">\n                        <p class="stat-text-stat">Adversaire(s) rencontré(s)</p>\n                        <p class="stat-number-stat" data-target="6">0</p>\n                    </div>\n                    <div class="stat-rubric-stat">\n                        <p class="stat-text-stat">Temps de jeu (s)</p>\n                        <p class="stat-number-stat" data-target="124">0</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="friends-and-leaderboard-stat">\n            <a class="nav-link" href="#/leaderboard">\n                <div class="leaderboard-stat" id="leaderboard-stat">\n                    <i class="bi bi-trophy-fill trophy-icon"></i>\n                    <p class="leader-text-stat">Leaderboard</p>\n                </div>\n            </a>\n            <a class="nav-link" href="#/friendlist">         \n                <div class="friends-list-stat" id="list-stat">\n                    <i class="bi bi-list-task list-icon"></i>\n                    <p class="list-text-stat">Liste d\'amis</p>\n                </div>\n            </a>\n        </div>\n    </div>\n    ',setTimeout((()=>{t.querySelectorAll(".stat-number-stat").forEach((t=>{const n=+t.getAttribute("data-target");g(t,n)}))}),500),t};document.addEventListener("DOMContentLoaded",(()=>{document.getElementById("root").appendChild(h())}));const y=()=>{let{hash:e}=location,y=document.getElementById("section");y?(async()=>{switch(await(async()=>{const t=localStorage.getItem("token");if(!t)return window.location.hash="#/login",!1;try{return!!(await fetch("/api/check-auth",{method:"GET",headers:{Authorization:`Bearer ${t}`}})).ok||(localStorage.removeItem("token"),window.location.hash="#/login",!1)}catch(t){return console.error("Erreur de vérification d'authentification :",t),!1}})(),e){case"#/":(()=>{if(!document.getElementById("root"))return void console.error("#root not found in the DOM");let t=document.querySelector(".navbar-container");t&&t.remove();let n=document.querySelector(".logout-container");n&&n.remove();let e=document.querySelector("#section");if(e){e.innerHTML='\n        <div class="balls-home d-none d-md-flex">\n            <div class="orange-ball-home">\n                <a href="#/signin" data-hash="signin">\n                    <span>I</span>\n                    <span>n</span>\n                    <span>s</span>\n                    <span>c</span>\n                    <span>r</span>\n                    <span>i</span>\n                    <span>p</span>\n                    <span>t</span>\n                    <span>i</span>\n                    <span>o</span>\n                    <span>n</span>\n                </a>\n            </div>\n            <div class="white-ball-home">\n                <a href="#/login" data-hash="login">\n                    <span>c</span>\n                    <span>o</span>\n                    <span>n</span>\n                    <span>n</span>\n                    <span>e</span>\n                    <span>x</span>\n                    <span>i</span>\n                    <span>o</span>\n                    <span>n</span>\n                </a>\n            </div>\n            <div class="btn-container-home">\n                <button onclick="window.location=\'https://localhost/api/auth/42login/\';" class="btn-42-home">\n                    <p class="co-42-home">connexion avec</p>\n                    <img src="./app/images/42.png" class="img-42-home" alt="button-42">\n                </button>\n            </div>\n        </div>\n\n        <div class="balls-home-sm d-none d-sm-flex d-md-none">\n            <div class="orange-ball-home-sm">\n                <a href="#/signin" data-hash="signin">\n                    <span>I</span>\n                    <span>n</span>\n                    <span>s</span>\n                    <span>c</span>\n                    <span>r</span>\n                    <span>i</span>\n                    <span>p</span>\n                    <span>t</span>\n                    <span>i</span>\n                    <span>o</span>\n                    <span>n</span>\n                </a>\n            </div>\n            <div class="white-ball-home-sm">\n                <a href="#/login" data-hash="login">\n                    <span>c</span>\n                    <span>o</span>\n                    <span>n</span>\n                    <span>n</span>\n                    <span>e</span>\n                    <span>x</span>\n                    <span>i</span>\n                    <span>o</span>\n                    <span>n</span>\n                </a>\n            </div>\n            <div class="btn-container-home">\n                <button onclick="window.location=\'https://localhost/api/auth/42login/\';" class="btn-42-home">\n                    <p class="co-42-home">connexion avec</p>\n                    <img src="./app/images/42.png" class="img-42-home" alt="button-42">\n                </button>\n            </div>\n        </div>\n    ';const t=document.querySelector(".white-ball-home"),n=document.querySelector(".orange-ball-home");t&&n?function(t,n,e){n.style.position="absolute",e.style.position="absolute",n.style.top="0",e.style.top="0";const s=(t.clientHeight-n.clientHeight)/2,l=(t.clientHeight-e.clientHeight)/2;o({duration:2e3,timing:i(a),draw(t){n.style.transform=`translateY(${s*t}px)`}}),setTimeout((()=>{o({duration:2e3,timing:i(a),draw(t){e.style.transform=`translateY(${l*t}px)`}})}),1e3)}(e,t,n):console.error(".white-ball-home or .orange-ball-home not found in the DOM")}})();break;case"#/signin":(()=>{if(!document.getElementById("root"))return void console.error("#root not found in the DOM");let t=document.querySelector(".navbar-container");t&&t.remove();let n=document.querySelector(".logout-container");n&&n.remove();let e=document.querySelector("#section");e&&(e.innerHTML='\n    <div class="balls-signin d-none d-md-flex">\n        <div class="white-ball-signin"></div>\n            <a class="nav-link" href="#/">\n                <div class="arrow"><i class="bi bi-arrow-left-circle-fill"></i></div>\n            </a>\n            <div class="orange-ball-signin">\n                <form id="signin-form" class="login-form-signin"> \x3c!-- Ajout de la balise form --\x3e\n                    <input type="text" id="username" placeholder="nom d\'utilisateur">\n                    <input type="email" id="email" placeholder="email">\n                    <input type="password" id="password" placeholder="mot de passe">\n                    <input type="password" id="confirmPassword" placeholder="confirmer mdp">\n                    <button type="submit" class="button-signin">s\'inscrire</button>\n                </form>\n            </div>\n        </div>\n    </div>\n\n    <div class="balls-signin d-none d-sm-flex d-md-none">\n        <a class="nav-link" href="#/">\n            <div class="arrow-s-sm"><i class="bi bi-arrow-left-circle-fill"></i></div>\n        </a>\n        <div class="orange-ball-signin-sm">\n            <form id="signin-form-sm" class="login-form-signin"> \x3c!-- Ajout de la balise form --\x3e\n                <input type="text" id="username-sm" placeholder="nom d\'utilisateur">\n                <input type="email" id="email-sm" placeholder="email">\n                <input type="password" id="password-sm" placeholder="mot de passe">\n                <input type="password" id="confirmPassword-sm" placeholder="confirmer mdp">\n                <button type="submit" class="button-signin">s\'inscrire</button>\n            </form>\n        </div>\n    </div>\n        '),(document.getElementById("signin-form")||document.getElementById("signin-form-sm")).addEventListener("submit",(t=>{t.preventDefault();const n={username:document.getElementById("username").value||document.getElementById("username-sm").value,email:document.getElementById("email").value||document.getElementById("email-sm").value,password:document.getElementById("password").value||document.getElementById("password-sm").value,confirmPassword:document.getElementById("confirmPassword").value||document.getElementById("confirmPassword-sm").value},e=a(n.email),i=s(n.password);if(e)if(i)if(n.password===n.confirmPassword){const t=l("csrftoken");fetch("https://localhost/api/auth/register/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":t},body:JSON.stringify(n)}).then((t=>t.ok?t.json():t.json().then((t=>{throw new Error(t)})))).then((t=>{alert(t.message),window.location.href="#/dashboard"})).catch((t=>{alert("User creation failed."),console.error("Error:",t)}))}else alert("confirmation de mot de passe incorrect");else alert("mot de passe doit contenir au moins 5 caractères, une lettre, un chiffre et un caractère spécial.");else alert("email non conforme")}));const s=t=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^a-zA-Z\d]).{5,}$/.test(t),a=t=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.+[a-zA-Z]{2,}$/.test(t)})();break;case"#/login":(()=>{if(!document.getElementById("root"))return void console.error("#root not found in the DOM");let t=document.querySelector(".navbar-container");t&&t.remove();let n=document.querySelector(".logout-container");n&&n.remove();let e=document.querySelector("#section");e&&(e.innerHTML='\n        <div class="balls-login d-none d-md-flex">\n            <div class="orange-ball-login">\n                <a class="nav-link" href="#/">\n                    <div class="arrow"><i class="bi bi-arrow-left-circle-fill"></i></div>\n                </a>\n            </div>\n            <div class="white-ball-login">\n                <form id="login-form" class="login-form-login"> \x3c!-- Ajout de la balise form --\x3e\n                    <input type="text" id="username" placeholder="Username">\n                    <input type="password" id="password" placeholder="Password">\n                    <button type="submit" class="button-login">se connecter</button>\n                </form>\n            </div>\n\n            <div class="btn-container-home">\n                <button onclick="window.location=\'https://42.fr/\';" class="btn-42-home">\n                    <p class="co-42-home">connexion avec</p>\n                    <img src="./app/images/42.png" class="img-42-home" alt="button-42">\n                </button>\n            </div>\n        </div>\n\n        <div class="balls-login d-none d-sm-flex d-md-none">\n            <a class="nav-link" href="#/">\n                <div class="arrow-sm"><i class="bi bi-arrow-left-circle-fill"></i></div>\n            </a>\n        <div class="white-ball-login-sm">\n                <form id="login-form-sm" class="login-form-login"> \x3c!-- Ajout de la balise form --\x3e\n                    <input type="text" id="username-sm" placeholder="Username">\n                    <input type="password" id="password-sm" placeholder="Password">\n                    <button type="submit" class="button-login">se connecter</button>\n                </form>\n            </div>\n        </div>\n    '),(document.getElementById("login-form")||document.getElementById("login-form-sm")).addEventListener("submit",(t=>{t.preventDefault();const n={username:document.getElementById("username").value||document.getElementById("username-sm").value,password:document.getElementById("password").value||document.getElementById("password-sm").value},e=l("csrftoken");fetch("https://localhost/api/auth/signin/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":e},body:JSON.stringify(n)}).then((t=>t.ok?t.json():t.json().then((t=>{throw new Error("Erreur de connexion")})))).then((t=>{console.log("Réponse du backend:",t),localStorage.setItem("accessToken",t.access),localStorage.setItem("refreshToken",t.refresh),window.location.href="#/dashboard"})).catch((t=>{console.error("Erreur:",t),alert("Nom d utilisateur ou mot de passe incorrect")}))}))})();break;case"#/game":(()=>{let t=document.querySelector("#section");if(t){t.innerHTML='   \n        <div class="game-container" id="game-container">\n            <canvas id="game-canvas" width="1200" height="700"></canvas>\n        <div class="button-container" id="initial-buttons">\n            <button class="game-button" id="local-mode">Local</button>\n            <button class="game-button" id="tournoi-mode">Tournoi</button>\n        </div>\n        <div class="button-container" id="settings">\n            <div>\n                <label for="ball-speed">Ball Speed:</label>\n                <select id="ball-speed">\n                    <option value="15">Slow</option>\n                    <option value="20">Normal</option>\n                    <option value="25">Fast</option>\n                </select>\n            </div>\n            <div>\n                <label for="paddle-speed">Paddle Speed:</label>\n                <select id="paddle-speed">\n                    <option value="5">Slow</option>\n                    <option value="7">Normal</option>\n                    <option value="10">Fast</option>\n                </select>\n            </div>\n            <div>\n                <label for="background-color">Background Color:</label>\n                <select id="background-color">\n                    <option value="black">Black</option>\n                    <option value="blue">Blue</option>\n                    <option value="green">Green</option>\n                </select>\n            </div>\n            <button class="game-button" id="start-game-btn">Start Game</button>\n        </div>\n        <div class="button-container" id="tournoi-buttons">\n            <button class="game-button" id="three-players-btn">3 Players</button>\n            <button class="game-button" id="four-players-btn">4 Players</button>\n            <button class="game-button" id="five-players-btn">5 Players</button>\n        </div>\n    </div>\n    ';const n=document.getElementById("initial-buttons"),e=document.getElementById("tournoi-buttons"),s=document.getElementById("local-mode"),a=document.getElementById("tournoi-mode"),i=document.getElementById("settings"),o=document.getElementById("start-game-btn"),l=document.getElementById("ball-speed"),r=document.getElementById("paddle-speed"),d=document.getElementById("background-color"),c=document.getElementById("game-canvas"),p=c.getContext("2d");let m=c.height/2,u=c.height/2,v=c.width/2,g=c.height/2,b=0,f=0,h=null,y={},w=[];function k(){n.classList.add("hidden"),e.classList.add("hidden"),i.classList.add("hidden")}function E(){p.clearRect(0,0,c.width,c.height),p.fillStyle="white",p.fillRect(20,c.height/2,10,70),p.fillRect(c.width-20,c.height/2,10,70),p.fillRect(c.width/2,c.height/2,10,10),p.fillStyle="green",p.font="24px Arial",p.fillText("Player 1: 0",20,30),p.fillText("Player 2: 0",c.width-150,30),k(),i.classList.remove("hidden")}function S(t){console.log("inside prompte player name"),w=[];for(let n=1;n<=t;n++){const t=prompt(`Player ${n} name:`);t?w.push(t.trim()):(alert("Please enter a valid name."),n--)}for(let n=0;n<t;n++)console.log("player name :",w[n]);x(w)}async function x(t){let n=1;for(;t.length>1;){console.log(`Round ${n}:`);let e=[];if(t.length%2!=0){let n=t.pop();e.push(n),console.log(`${n} advances to the next round automatically`)}for(let s=0;s<t.length;s+=2){let a=t[s],i=t[s+1];const o=`local_match_${a}_vs_${i}`.replace(/[^a-zA-Z0-9_]/g,"");k(),alert(`Round: ${n}  Match: ${a} Vs ${i}`),await _(o,a,i,e,l.value,r.value)}t=e,n++}alert(`Tournament Winner: ${t[0]}`),k(),E()}function L(t,n){p.clearRect(0,0,c.width,c.height),p.fillStyle="white",p.fillRect(20,m,10,70),p.fillRect(c.width-20,u,10,70),p.fillRect(v,g,10,10),p.fillStyle="green",p.font="24px Arial",p.fillText(`${t}: ${b}`,20,30),p.fillText(`${n}: ${f}`,c.width-150,30)}function T(t,n,e){m=t.player1_y_position,u=t.player2_y_position,v=t.ball_x_position,g=t.ball_y_position,b=t.score_player1,f=t.score_player2,L(n,e)}function j(t,n,e){h&&h.close(),h=new WebSocket(`wss://localhost/ws/pong/${t}/`),h.onopen=function(t){console.log("Connected to the server"),h.send(JSON.stringify({type:"config",ball_speed:n,paddle_speed:e}))},h.onmessage=function(t){const n=JSON.parse(t.data);var e;"game_state"===n.type?(m=(e=n).player1_y_position,u=e.player2_y_position,v=e.ball_x_position,g=e.ball_y_position,b=e.score_player1,f=e.score_player2,p.clearRect(0,0,c.width,c.height),p.fillStyle="white",p.fillRect(20,m,10,70),p.fillRect(c.width-20,u,10,70),p.fillRect(v,g,10,10),p.fillStyle="green",p.font="24px Arial",p.fillText(`Player 1: ${b}`,20,30),p.fillText(`Player 2: ${f}`,c.width-150,30)):"start_game"===n.type?console.log("The game has started!"):"game_over"===n.type&&(console.log("Fin de game"),alert(`Player ${n.winner} wins!`),h.close(),h=null,k(),E())},h.onclose=function(t){console.log("Disconnected from the server")},h.onerror=function(t){console.error(`WebSocket error: ${t.message}`)},document.addEventListener("keydown",(function(t){y[t.code]=!0,B()})),document.addEventListener("keyup",(function(t){y[t.code]=!1}))}function _(t,n,e,s,a,i){return h&&h.close(),new Promise(((o,l)=>{h=new WebSocket(`wss://localhost/ws/pong/${t}/`),h.onopen=function(t){console.log("Connected to the server"),h.send(JSON.stringify({type:"config",ball_speed:a,paddle_speed:i}))},h.onmessage=function(t){const a=JSON.parse(t.data);if("game_state"===a.type)T(a,n,e);else if("start_game"===a.type)console.log("The game has started!");else if("game_over"===a.type){let t;console.log("Fin de game"),t=1==a.winner?n:e,alert(`${n} vs ${e} - Winner: ${t}`),s.push(t),h.close(),h=null,k(),o()}},h.onclose=function(t){console.log("Disconnected from the server")},h.onerror=function(t){console.error(`WebSocket error: ${t.message}`),l(t)},document.addEventListener("keydown",(function(t){y[t.code]=!0,B()})),document.addEventListener("keyup",(function(t){y[t.code]=!1}))}))}function B(){h&&h.readyState===WebSocket.OPEN&&(y.ArrowUp&&h.send(JSON.stringify({type:"move",player:2,direction:"up"})),y.ArrowDown&&h.send(JSON.stringify({type:"move",player:2,direction:"down"})),y.KeyW&&h.send(JSON.stringify({type:"move",player:1,direction:"up"})),y.KeyS&&h.send(JSON.stringify({type:"move",player:1,direction:"down"})),y.Space&&h.send(JSON.stringify({type:"start_ball"})))}function I(){B(),requestAnimationFrame(I)}E(),console.log("inside Game_menu"),o.addEventListener("click",(function(){console.log(d.value),console.log(l.value),console.log(r.value),document.getElementById("game-canvas").style.backgroundColor=d.value,k(),n.classList.remove("hidden")})),s.addEventListener("click",(function(){console.log("inside local"),k();const t="local_"+(new Date).getTime();console.log(t),k(),j(t,l.value,r.value)})),document.getElementById("three-players-btn").addEventListener("click",(()=>S(3))),document.getElementById("four-players-btn").addEventListener("click",(()=>S(4))),document.getElementById("five-players-btn").addEventListener("click",(()=>S(5))),a.addEventListener("click",(function(){console.log("inside tournoi"),k(),e.classList.remove("hidden")})),I()}})();break;case"#/dashboard":(()=>{let e=document.querySelector("#root");e.innerHTML="",e.append(n()),e.append(t()),e.append(s());let a=document.createElement("div");a.className="dashboard-container",a.append(b()),a.append((()=>{let t=document.createElement("div");return t.innerHTML='\n\t<div class="right-side-history">\n\t\t<div class="history-history">\n\t\t\t<div class="victory-history">\n\t\t\t\t<p class="number-history" data-target="2">0</p>\n\t\t\t\t<p class="text-history">victoire(s)</p>\n\t\t\t</div>\n\t\t\t<div class="defeat-history">\n\t\t\t\t<p class="number-history" data-target="5">0</p>\n\t\t\t\t<p class="text-history">défaite(s)</p>\n\t\t\t</div>\n            <a class="nav-link" href="#/gamehistory">\n                <div id="game-history">\n\t\t\t\t\t<p class="game-historic-history">voir l\'historique des parties</p>\n                </div>\n\t\t\t</a>\n\t\t</div>\n\t</div>\n    ',setTimeout((()=>{t.querySelectorAll(".number-history").forEach((t=>{const n=+t.getAttribute("data-target");g(t,n)}))}),500),t})()),e.append(a),p(e),m(e),u(e),v(a)})();break;case"#/leaderboard":r();break;case"#/settings":f();break;case"#/aboutus":(()=>{let t=document.querySelector("#section");t&&(t.innerHTML='\n\t    <div class="main-container-aboutus">\n\n        <h1 class="title-aboutus">Qui sommes nous ?</h1>\n\t    <div class="container-aboutus">\n\t    \t<div class="row">\n\t    \t\t<div id="block1" class="col-md-6 col-lg-4 mb-3">\n\t    \t\t\t<div class="frame-aboutus">\n\t    \t\t\t\t<h1 class="name-cube">Jéremy COINTRE</h1>\n\t    \t\t\t\t<img class="img-us" src="./app/images/profile.png" alt="img-jeremy">\n\t    \t\t\t\t<p>Développement du frontend</p>\n\t    \t\t\t</div>\n\t    \t\t</div>\n\t    \t\t<div id="block2" class="col-md-6 col-lg-4 mb-3">\n\t    \t\t\t<div class="frame-aboutus">\n\t    \t\t\t\t<h1 class="name-cube">Hugo COULON</h1>\n\t    \t\t\t\t<img class="img-us" src="./app/images/hugo.png" alt="img-hugo">\n\t    \t\t\t\t<p>Développement du jeu</p>\n\t    \t\t\t</div>\n\t    \t\t</div>\n\t    \t\t<div id="block3" class="col-md-6 col-lg-4 mb-3">\n\t    \t\t\t<div class="frame-aboutus">\n\t    \t\t\t\t<h1 class="name-cube">Tasnim MEJRI</h1>\n\t    \t\t\t\t<img class="img-us" src="./app/images/Tasnim.jpg" alt="img-tasnim">\n\t    \t\t\t\t<p>Développement du frontend</p>\n\t    \t\t\t</div>\n\t    \t\t</div>\n\t    \t\t<div id="block4" class="col-md-6 col-lg-4 mb-3">\n\t    \t\t\t<div class="frame-aboutus">\n\t    \t\t\t\t<h1 class="name-cube">Alexandre SELNET</h1>\n\t    \t\t\t\t<img class="img-us" src="./app/images/profile.png" alt="img-alex">\n\t    \t\t\t\t<p>Développement du Backend</p>\n\t    \t\t\t</div>\n\t    \t\t</div>\n\t    \t\t<div id="block5" class="col-md-6 col-lg-4 mb-3">\n\t    \t\t\t<div class="frame-aboutus">\n\t    \t\t\t\t<h1 class="name-cube">Jules THUYSBAERT</h1>\n\t    \t\t\t\t<img class="img-us" src="./app/images/Jules.png" alt="img-jules">\n\t    \t\t\t\t<p>Développement du backend</p>\n\t    \t\t\t</div>\n\t    \t\t</div>\n    \t\t</div>\n\t    </div>\n\t    </div>\n    ')})();break;case"#/friendlist":d();break;case"#/gamehistory":c();break;case"#/2fa":document.querySelector("#section").innerHTML='\n      <div class="container-2FA">\n          <div class="login-form-2FA">\n              <h1 class="title-2FA">ENTREZ LE CODE REÇU PAR MAIL</h1>\n              <input type="text" placeholder="Tapez le code ici">\n              <button class="button-2FA">renvoyer</button>\n          </div>\n      </div>\n      ';break;case"#/logout":(()=>{let t=document.querySelector("#section");if(!document.getElementById("root"))return void console.error("#root not found in the DOM");let n=document.querySelector(".navbar-container");n&&n.remove();let e=document.querySelector(".logout-container");e&&e.remove(),t&&(t.innerHTML='   <div class="frame-LogOutMsg-container">\n            <div class="frame-LogOutMsg">\n                <p class="msg-confirmation">Êtes-vous sûr(e) de vouloir vous déconnecter ?</p>\n                <div class="button-logout">\n                    <a class="nav-link" href="#/">\n                        <button type="button" class="btn btn-success">Oui</button>\n                    </a>\n                    <a>                \n                        <button type="button" class="btn btn-danger" onclick="window.history.back()">Non</button>\n                    </a>\n                </div>\n            </div>\n        </div>\n    ')})();break;case"#/frienddashboard":(()=>{let e=document.querySelector("#root");e.innerHTML="",e.append(n()),e.append(t()),e.append(s());let a=document.createElement("div");a.className="dashboard-container",a.append(h()),a.append((()=>{let t=document.createElement("div");return t.innerHTML='\n\t<div class="right-side-history">\n\t\t<div class="history-history">\n\t\t\t<div class="victory-history">\n\t\t\t\t<p class="number-history" data-target="2">0</p>\n\t\t\t\t<p class="text-history">victoire(s)</p>\n\t\t\t</div>\n\t\t\t<div class="defeat-history">\n\t\t\t\t<p class="number-history" data-target="5">0</p>\n\t\t\t\t<p class="text-history">défaite(s)</p>\n\t\t\t</div>\n            <a class="nav-link" href="#/gamehistory">\n                <div id="game-history">\n\t\t\t\t\t<p class="game-historic-history">voir l\'historique des parties</p>\n                </div>\n\t\t\t</a>\n\t\t</div>\n\t</div>\n    ',setTimeout((()=>{t.querySelectorAll(".number-history").forEach((t=>{const n=+t.getAttribute("data-target");g(t,n)}))}),500),t})()),e.append(a),p(e),m(e),u(e),v(a)})();break;case"#/deletefriendmsg":(()=>{let t=document.querySelector("#section");if(!document.getElementById("root"))return void console.error("#root not found in the DOM");let n=document.querySelector(".navbar-container");n&&n.remove();let e=document.querySelector(".logout-container");e&&e.remove(),t&&(t.innerHTML='   <div class="frame-delete-container">\n            <div class="frame-delete">\n                <p class="msg-delete-confirmation">Êtes-vous sûr(e) de voirloir retirer cet utilisateur de vos amis ?</p>\n                <div class="button-delete">\n                    <a class="nav-link" href="#/pagenotfound">\n                        <button type="button" class="btn btn-success">Oui</button>\n                    </a>\n                    <a class="nav-link" href="#/pagenotfound">                \n                        <button type="button" class="btn btn-danger">Non</button>\n                    </a>\n                </div>\n            </div>\n        </div>\n    ')})();break;default:y.innerHTML="<h1>Page not found</h1>"}})().catch((t=>console.error("Error routing:",t))):console.error("#section not found in the DOM")},w=()=>{let e=document.getElementById("root");if(!e)return void console.error("#root not found in the DOM");e.innerHTML="";const a=document.createElement("div");a.classList.add("navbar-supperposition"),a.append(n()),a.append(t()),e.append(a),e.append(s()),window.location.hash?y():window.location.href="#/"};document.addEventListener("DOMContentLoaded",w),window.addEventListener("hashchange",w)})();